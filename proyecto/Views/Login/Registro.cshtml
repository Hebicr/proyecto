@model proyecto.Models.Cliente

@{
    ViewBag.Title = "Registro";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container" style="height: auto; width: auto; ">
    <div style=" height: auto; width: auto; margin: 0px auto; ">
        @*<h2>Login</h2>*@
        <br />
        <br />
        <form action="@Url.Action("Registro","Login")" method="post">
            <div class="form-horizontal form-group-sm">
                <h2>Registro</h2>
                <hr />
                @Html.ValidationSummary(true, "", new { @class = "text-danger" })

                <div class="form-group col-md-6">
                    @Html.LabelFor(model => model.Cedula, htmlAttributes: new { @class = "control-label col-md-4" })
                    <div class="col-md-8">
                        @Html.EditorFor(model => model.Cedula, new { htmlAttributes = new { @class = "form-control", @required = "required", @maxlength = "15" } })
                        @Html.ValidationMessageFor(model => model.Cedula, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group col-md-6">
                    @Html.LabelFor(model => model.Nombre, htmlAttributes: new { @class = "control-label col-md-4" })
                    <div class="col-md-8">
                        @Html.EditorFor(model => model.Nombre, new { htmlAttributes = new { @class = "form-control", @required = "required", @maxlength = "49" } })
                        @Html.ValidationMessageFor(model => model.Nombre, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group col-md-6">
                    @*@Html.LabelFor(model => model.PrimerApellido, htmlAttributes: new { @class = "control-label col-md-2" })*@
                    @Html.Label("Primer Apellido", "Primer Apellido", htmlAttributes: new { @class = "control-label col-md-4" })
                    <div class="col-md-8">
                        @Html.EditorFor(model => model.PrimerApellido, new { htmlAttributes = new { @class = "form-control", @required = "required", @maxlength = "49" } })
                        @Html.ValidationMessageFor(model => model.PrimerApellido, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group col-md-6">
                    @*@Html.LabelFor(model => model.SegundoApellido, htmlAttributes: new { @class = "control-label col-md-2" })*@
                    @Html.Label("Segundo Apellido", "Segundo Apellido", htmlAttributes: new { @class = "control-label col-md-4" })
                    <div class="col-md-8">
                        @Html.EditorFor(model => model.SegundoApellido, new { htmlAttributes = new { @class = "form-control", @required = "required", @maxlength = "49" } })
                        @Html.ValidationMessageFor(model => model.SegundoApellido, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group col-md-6">
                    @Html.LabelFor(model => model.Genero, htmlAttributes: new { @class = "control-label col-md-4" })
                    <div class="col-md-8">
                        @*@Html.EditorFor(model => model.Genero, new { htmlAttributes = new { @class = "form-control" } })*@
                        @if (ViewBag.generoList != null)
                        {
                            @Html.DropDownListFor(model => model.Genero, ViewBag.generoList as SelectList, "-- Selecciones Genero --", new { @class = "form-control", @required = "required" });

                        }
                        @Html.ValidationMessageFor(model => model.Genero, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group col-md-6">
                    @*@Html.LabelFor(model => model.FechadeNacimiento, htmlAttributes: new { @class = "control-label col-md-2" })*@
                    @Html.Label("Fecha de Nacimiento", "Fecha de Nacimiento", htmlAttributes: new { @class = "control-label col-md-4" })
                    <div class="col-md-8">
                        @Html.EditorFor(model => model.FechadeNacimiento, new { htmlAttributes = new { @class = "form-control", @required = "required", @type = "date", @maxlength = "8" } })
                        @Html.ValidationMessageFor(model => model.FechadeNacimiento, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group col-md-6">
                    @*@Html.LabelFor(model => model.TelefonoPrincipal, htmlAttributes: new { @class = "control-label col-md-2" })*@
                    @Html.Label("Telefono Principal", "Telefono Principal", htmlAttributes: new { @class = "control-label col-md-4" })

                    <div class="col-md-8">
                        @Html.EditorFor(model => model.TelefonoPrincipal, new { htmlAttributes = new { @class = "form-control", @required = "required", @maxlength = "8" } })
                        @Html.ValidationMessageFor(model => model.TelefonoPrincipal, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group col-md-6">
                    @*@Html.LabelFor(model => model.TelefonoSecundario, htmlAttributes: new { @class = "control-label col-md-2" })*@
                    @Html.Label("Telefono Secundario", "Telefono Secundario", htmlAttributes: new { @class = "control-label col-md-4" })
                    <div class="col-md-8">
                        @Html.EditorFor(model => model.TelefonoSecundario, new { htmlAttributes = new { @class = "form-control", @maxlength = "8" } })
                        @Html.ValidationMessageFor(model => model.TelefonoSecundario, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group col-md-6">
                    @*@Html.LabelFor(model => model.id_Provincia, htmlAttributes: new { @class = "control-label col-md-2" })*@
                    @Html.Label("Provincia", "Provincia", htmlAttributes: new { @class = "control-label col-md-4" })
                    <div class="col-md-8">
                        @*@Html.EditorFor(model => model.id_Provincia, new { htmlAttributes = new { @class = "form-control" } })*@
                        @if (ViewBag.provinciasList != null)
                        {
                            @Html.DropDownListFor(model => model.id_Provincia, ViewBag.provinciasList as SelectList, "-- Selecciones Provincia --", new { @class = "form-control", @required = "required" });
                        }
                        @Html.ValidationMessageFor(model => model.id_Provincia, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group col-md-6">
                    @*@Html.LabelFor(model => model.CorreoElectronico, htmlAttributes: new { @class = "control-label col-md-2" })*@
                    @Html.Label("Correo Electronico", "Correo Electronico", htmlAttributes: new { @class = "control-label col-md-4" })
                    <div class="col-md-8">
                        @Html.EditorFor(model => model.CorreoElectronico, new { htmlAttributes = new { @class = "form-control", @required = "required",@type = "email", @maxlength = "99" } })
                        @Html.ValidationMessageFor(model => model.CorreoElectronico, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group col-md-6">
                    @*@Html.LabelFor(model => model.id_Canton, htmlAttributes: new { @class = "control-label col-md-2" })*@
                    @Html.Label("Canton", "Canton", htmlAttributes: new { @class = "control-label col-md-4" })
                    <div class="col-md-8">
                        @*@Html.EditorFor(model => model.id_Canton, new { htmlAttributes = new { @class = "form-control" } })*@
                        @if (ViewBag.provinciasList != null)
                        {
                            @Html.DropDownListFor(model => model.id_Canton, new SelectList(" "), "-- Selecciones Canton --", new { @class = "form-control", @required = "required" });
                        }
                        @Html.ValidationMessageFor(model => model.id_Canton, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group col-md-6">
                    @*@Html.LabelFor(model => model.DireccionFisica, htmlAttributes: new { @class = "control-label col-md-2" })*@
                    @Html.Label("Direccion Fisica", "Direccion Fisica", htmlAttributes: new { @class = "control-label col-md-4" })
                    <div class="col-md-8">
                        @Html.EditorFor(model => model.DireccionFisica, new { htmlAttributes = new { @class = "form-control", @required = "required", @maxlength = "99" } })
                        @Html.ValidationMessageFor(model => model.DireccionFisica, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group col-md-6">
                    @*@Html.LabelFor(model => model.id_Distrito, htmlAttributes: new { @class = "control-label col-md-2" })*@
                    @Html.Label("Distrito", "Distrito", htmlAttributes: new { @class = "control-label col-md-4" })
                    <div class="col-md-8">
                        @*@Html.EditorFor(model => model.id_Distrito, new { htmlAttributes = new { @class = "form-control" } })*@
                        @if (ViewBag.provinciasList != null)
                        {
                            @Html.DropDownListFor(model => model.id_Distrito, new SelectList(" "), "-- Selecciones Canton --", new { @class = "form-control", @required = "required" });
                        }
                        @Html.ValidationMessageFor(model => model.id_Distrito, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-md-offset-5 col-md-8">
                        <input type="submit" value="Registro" class="btn btn-success" />
                        <input type="button" value="Cancelar" class="btn btn-danger" onclick="location.href='@Url.Action("Login","Login")';" />
                    </div>
                </div>
            </div>
           

            @if (ViewData["Mensaje"] != null)
            {
                <div class="alert alert-danger" role="alert">
                    @ViewData["Mensaje"]
                </div>
            }
            <br />
        </form>
    </div>
</div>


@section scripts{
    <script>
        $(document).ready(function () {

            $("#id_Provincia").change(function () {
                $.get("/Login/GetCantones",
                    { id_Provincia: $("#id_Provincia").val() },
                    function (data) {
                        $("#id_Canton").empty();
                        $("#id_Canton").append("<option>-- Selecciones Canton --</option>");
                        $("#id_Canton").trigger("chosen:updated");
                        $.each(data, function (index, row) {
                            $("#id_Canton").append("<option value ='"+row.id_Canton+"'>"+row.nombre+"</option>")
                        });
                    }
                );
            });

            $("#id_Canton").change(function () {
                $.get("/Login/GetDistritos",
                    { id_Canton: $("#id_Canton").val() },
                    function (data) {
                        $("#id_Distrito").empty();
                        $.each(data, function (index, row) {
                            $("#id_Distrito").append("<option value ='" + row.id_Distrito + "'>" + row.nombre + "</option>")
                        });
                    }
                );
            });

            $("#Cedula").bind('keypress', function (event) {
                var regex = new RegExp("^[0-9]+$");
                var key = String.fromCharCode(!event.charCode ? event.which : event.charCode);
                if (!regex.test(key)) {
                    event.preventDefault();
                    return false;
                }
            });

            $("#TelefonoPrincipal").bind('keypress', function (event) {
                var regex = new RegExp("^[0-9]+$");
                var key = String.fromCharCode(!event.charCode ? event.which : event.charCode);
                if (!regex.test(key)) {
                    event.preventDefault();
                    return false;
                }
            });

            $("#TelefonoSecundario").bind('keypress', function (event) {
                var regex = new RegExp("^[0-9]+$");
                var key = String.fromCharCode(!event.charCode ? event.which : event.charCode);
                if (!regex.test(key)) {
                    event.preventDefault();
                    return false;
                }
            });

        });
    </script>
}
